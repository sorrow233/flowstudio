:root {
  /* --- Digital Zen & Modern Wabi-Sabi Palette --- */

  /* Light Mode (Kami - Paper) */
  --color-bg-light: #F2F0EB;
  /* Warm Rice Paper */
  --color-surface-light: #EAE8E3;
  /* Stone / Washi */
  --color-text-main-light: #2B2B2B;
  /* Soft Black Ink */
  --color-text-muted-light: #6D6D65;
  /* Aged Ink */
  --color-border-light: #DCDAD5;
  /* Subtle Stone Border */
  --color-border-hover-light: #C4C2BD;

  /* Dark Mode (Sumi - Ink) */
  --color-bg-dark: #121212;
  /* Deep Ink */
  --color-surface-dark: #1C1C1E;
  /* Dark Grey Stone */
  --color-text-main-dark: #E6E6E6;
  /* Off-White Mist */
  --color-text-muted-dark: #A1A1A1;
  /* Ash */
  --color-border-dark: #2C2C2E;
  --color-border-hover-dark: #48484A;

  /* Accents (Nature Inspired - Muted) */
  --color-accent-vermilion: #B83A39;
  /* Deep Hanko Red */
  --color-accent-indigo: #4A6E86;
  /* Indigo Dye */
  --color-accent-teal: #4B7F78;
  /* Aged Pine */
  --color-accent-gold: #C4A05D;
  /* Brass */

  /* Semantic Tokens */
  --bg-app: var(--color-bg-light);
  --bg-card: var(--color-surface-light);
  --bg-glass: rgba(242, 240, 235, 0.7);
  --text-primary: var(--color-text-main-light);
  --text-secondary: var(--color-text-muted-light);
  --border-subtle: var(--color-border-light);
  --border-hover: var(--color-border-hover-light);
  --color-accent: var(--color-accent-vermilion);

  /* Texture */
  /* Simple noise SVG data URI */
  --bg-noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");

  /* Shadows (Atmospheric) */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 4px 20px -2px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 20px 40px -4px rgba(0, 0, 0, 0.08);
  --shadow-glass: 0 8px 32px 0 rgba(0, 0, 0, 0.05);

  /* Spacing (Ma - Negative Space) */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;
  --space-12: 48px;
  --space-16: 64px;
  --space-24: 96px;
  /* New extra large spacing */

  /* Typography */
  --font-serif: "Playfair Display", "Times New Roman", serif;
  --font-sans: "Inter", "Helvetica Neue", sans-serif;
  --font-mono: "Menlo", monospace;

  --tracking-tight: -0.02em;
  --tracking-normal: 0em;
  --tracking-wide: 0.04em;

  /* Radius (Organic) */
  --radius-sm: 4px;
  --radius-md: 8px;
  /* Slightly sharper for zen feel */
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 9999px;

  /* Transitions (Mindful) */
  --transition-fast: 200ms cubic-bezier(0.2, 0.0, 0.2, 1);
  --transition-smooth: 400ms cubic-bezier(0.2, 0.0, 0.2, 1);
  --transition-slow: 700ms cubic-bezier(0.2, 0.0, 0.2, 1);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg-app: var(--color-bg-dark);
    --bg-card: var(--color-surface-dark);
    --bg-glass: rgba(28, 28, 30, 0.6);
    --text-primary: var(--color-text-main-dark);
    --text-secondary: var(--color-text-muted-dark);
    --border-subtle: var(--color-border-dark);
    --border-hover: var(--color-border-hover-dark);

    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 20px -2px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 20px 40px -4px rgba(0, 0, 0, 0.5);
  }
}

:root.dark {
  --bg-app: var(--color-bg-dark);
  --bg-card: var(--color-surface-dark);
  --bg-glass: rgba(28, 28, 30, 0.6);
  --text-primary: var(--color-text-main-dark);
  --text-secondary: var(--color-text-muted-dark);
  --border-subtle: var(--color-border-dark);
  --border-hover: var(--color-border-hover-dark);

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 20px -2px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 20px 40px -4px rgba(0, 0, 0, 0.5);
}

body {
  background-color: var(--bg-app);
  color: var(--text-primary);
  font-family: var(--font-sans);
  margin: 0;
  line-height: 1.7;
  /* Increased line height for breathability */
  letter-spacing: var(--tracking-normal);
  transition: background-color var(--transition-smooth), color var(--transition-smooth);
}

/* Noise overlay */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-image: var(--bg-noise);
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: overlay;
  /* Or multiply/soft-light depending on taste */
  opacity: 0.4;
}